<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0TNW6W5ZVN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-0TNW6W5ZVN');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>WeatherMLB | MLB Weather Forecasts, Wind Direction & Stadium Data</title>
    <meta name="description" content="Daily MLB weather forecasts, wind speed, and direction relative to every stadium. The ultimate tool for fantasy baseball and sports betting.">
    <meta name="keywords" content="MLB weather, baseball weather, wind direction Wrigley Field, fantasy baseball weather, MLB wind forecasts, sports betting weather, baseball stadium wind">
    <meta name="author" content="WeatherMLB">
    <meta property="og:title" content="WeatherMLB - Real-Time Stadium Forecasts">
    <meta property="og:description" content="Track wind, rain delay risks, and hitter/pitcher advantages for every MLB game. Don't guess. Know the conditions.">
    <meta property="og:image" content="https://weathermlb.com/social-share.png">
    <meta property="og:url" content="https://weathermlb.com">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="WeatherMLB - Real-Time Stadium Forecasts">
    <meta name="twitter:description" content="Track wind, rain delay risks, and hitter/pitcher advantages for every MLB game.">
    <meta name="twitter:image" content="https://weathermlb.com/social-share.png">
    <meta name="twitter:site" content="@weathermlbdaily">
    <link rel="canonical" href="https://weathermlb.com/">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
  <style>
    body { background-color: #f8f9fa; } /* Lighter background to make borders pop */
    
    /* --- Game Card Styles --- */
    .game-card { 
        border: 1px solid #dee2e6; /* NEW: Subtle grey border */
        border-radius: 12px; 
        box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* Lighter shadow to go with border */
        margin-bottom: 30px; /* INCREASED: More space between rows */
        transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s; 
        background: white;
        overflow: hidden; /* Keeps content inside rounded corners */
    }
    
    .game-card:hover { 
        transform: translateY(-5px); 
        box-shadow: 0 12px 24px rgba(0,0,0,0.1);
        border-color: #0d6efd; /* NEW: Border turns blue on hover */
    }
    
    /* --- TEAM LOGOS --- */
    .team-logo {
        width: 60px;
        height: 60px;
        object-fit: contain;
        filter: drop-shadow(0px 2px 2px rgba(0,0,0,0.1));
    }

    .weather-row { font-size: 0.9rem; border-top: 1px solid #f1f3f5; padding-top: 12px; margin-top: 12px; }
    .stadium-name { color: #6c757d; font-size: 0.85rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
    
    /* Wind Badges */
    .wind-badge { font-size: 0.85rem; padding: 6px 12px; border-radius: 20px; font-weight: 600; }
    .bg-out { background-color: #d1e7dd; color: #0f5132; } 
    .bg-in { background-color: #f8d7da; color: #842029; }
    .bg-cross { background-color: #fff3cd; color: #664d03; }
    .bg-secondary.text-white { background-color: #adb5bd !important; color: #fff !important; }

    /* Date Bar */
    .date-bar { background-color: #1a2537; border-top: 1px solid rgba(255,255,255,0.1); }

    /* --- Horizontal Rain Heat Map Styles --- */
    .rain-container {
        margin-top: 15px;
        padding-top: 10px;
        border-top: 1px dashed #e9ecef;
    }
    .rain-track {
        display: flex;
        width: 100%;
        height: 18px; 
        border-radius: 6px;
        overflow: hidden; 
        background-color: #e9ecef;
    }
    .rain-segment {
        flex: 1; 
        border-right: 1px solid rgba(255,255,255,0.4); 
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.7rem;
        font-weight: 700;
        cursor: help;
    }
    .rain-segment:last-child { border-right: none; }
    
    .rain-labels {
        display: flex;
        width: 100%;
        margin-top: 4px;
    }
    .rain-time-label {
        flex: 1;
        text-align: center;
        font-size: 0.65rem;
        color: #adb5bd;
        font-weight: 600;
    }
    
    /* Color coding & Text Contrast */
    .risk-low { background-color: #20c997; color: white; } 
    .risk-med { background-color: #ffc107; color: #333; } 
    .risk-high { background-color: #dc3545; color: white; } 

    /* --- Analyst Blurb Styles --- */
    .analysis-box {
        background-color: #f8f9fa;
        border-left: 4px solid #0d6efd;
        padding: 12px; /* Increased padding slightly */
        margin-top: 15px;
        font-size: 0.8rem;
        color: #495057;
        line-height: 1.5;
        border-radius: 0 4px 4px 0; /* Square left corners for the accent line */
    }
    .analysis-title {
        font-weight: 800;
        text-transform: uppercase;
        font-size: 0.7rem;
        color: #0d6efd;
        display: block;
        margin-bottom: 5px;
        letter-spacing: 0.5px;
    
    }
          /* --- NEW: Apple-Style Hourly Scroll --- */
    .hourly-scroll-container {
        display: flex;
        overflow-x: auto;
        gap: 12px;
        padding: 15px 5px;
        margin-top: 15px;
        border-top: 1px solid #f1f3f5;
        
        /* Hide scrollbar for cleaner look */
        scrollbar-width: none;  /* Firefox */
        -ms-overflow-style: none;  /* IE/Edge */
    }
    .hourly-scroll-container::-webkit-scrollbar { 
        display: none; /* Chrome/Safari */
    }
    
    .hour-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: 55px; /* Ensures consistent width */
        text-align: center;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }
    
    .hour-time {
        font-size: 0.8rem;
        font-weight: 600;
        color: #6c757d;
        margin-bottom: 4px;
    }
    
    .hour-icon {
        font-size: 1.6rem;
        line-height: 1;
        margin-bottom: 2px;
    }
    
    /* The Blue % Text */
    .hour-pop {
        font-size: 0.75rem;
        color: #5ac8fa; /* Apple Weather Blue */
        font-weight: 700;
        min-height: 14px; /* Keeps alignment even if empty */
    }
    
    .hour-temp {
        font-size: 1rem;
        font-weight: 600;
        margin-top: 4px;
        color: #212529;
    }
</style>
</head>
<body>

<div class="container-fluid p-0" style="background-color: #0f172a;">
    <img src="social-share.png" alt="WeatherMLB - Stadium Specific Wind and Weather" class="img-fluid w-100">
</div>

<nav class="navbar shadow-sm py-2 mb-4 sticky-top" style="background-color: #0f172a;">
    <div class="container justify-content-center">
        <div class="row g-2 align-items-center justify-content-center w-100">
            
            <div class="col-auto">
                <input type="date" id="date-picker" class="form-control text-center fw-bold" 
                       style="background-color: #1e293b; color: #ffffff; border: 1px solid #334155; color-scheme: dark; max-width: 160px;">
            </div>

            <div class="col-auto">
                <button class="btn btn-outline-light d-flex align-items-center justify-content-center px-3" onclick="generateDailyReport()">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="white" class="me-2">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
                    </svg>
                    Report
                </button>
            </div>

        </div>
    </div>
</nav>

<div class="container mt-4">
    <div class="sticky-top bg-light border-bottom py-3 mb-4 shadow-sm" style="z-index: 100;">
        <div class="container">
            <div class="row g-2 align-items-center">
                <div class="col-12 col-md-4">
                    <input type="text" id="team-search" class="form-control" placeholder="üîç Search Team (e.g. Yankees)...">
                </div>
                <div class="col-6 col-md-4">
                    <select id="sort-filter" class="form-select">
                        <option value="time">Sort: Game Time ‚è∞</option>
                        <option value="wind">Sort: Highest Wind üí®</option>
                        <option value="rain">Sort: Rain Chance üåßÔ∏è</option>
                        <option value="temp">Sort: Temperature üî•</option>
                        <option value="humidity">Sort: Humidity üíß</option> </select>
                    </select>
                </div>
                    <div class="col-6 col-md-4">
                        <div class="form-check form-switch d-flex align-items-center justify-content-center bg-white border rounded p-2" style="height: 38px;">
                            <input class="form-check-input me-2 ms-3" type="checkbox" id="risk-only">
                            <label class="form-check-label small fw-bold" for="risk-only" style="white-space: nowrap;">Risks Only ‚ö†Ô∏è</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <div id="games-container" class="row justify-content-center">
        <div class="col-12 text-center mt-5 pt-5">
            <div class="spinner-border text-secondary" role="status" style="width: 3rem; height: 3rem;">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-3 text-muted">Calibrating wind vectors...</p>
        </div>
    </div>
</div>

<footer class="text-center py-5 text-muted mt-5">
    <small>Data provided by MLB Stats API & Open-Meteo Historical Weather. Not affiliated with Major League Baseball.</small>
</footer>
<div class="modal fade" id="radarModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Live Radar & Forecast</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-0" style="height: 500px;">
        <iframe id="radarFrame" src="" width="100%" height="100%" frameborder="0" style="border:0;"></iframe>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="tweetModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">üê¶ Daily Weather Briefing</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <label class="small text-muted mb-2">Ready-to-post update:</label>
        <textarea id="tweet-text" class="form-control mb-3" rows="8" style="font-size: 0.9rem;"></textarea>
        <div class="d-grid gap-2">
            <button class="btn btn-dark" onclick="copyTweet()">üìã Copy to Clipboard</button>
            <a id="twitter-link" href="#" target="_blank" class="btn btn-outline-primary">
                üöÄ Open X / Twitter
            </a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
function copyTweet() {
    const copyText = document.getElementById("tweet-text");
    copyText.select();
    navigator.clipboard.writeText(copyText.value);
    const btn = document.querySelector('#tweetModal .btn-dark');
    btn.innerText = "‚úÖ Copied!";
    setTimeout(() => btn.innerText = "üìã Copy to Clipboard", 2000);
}
</script>    
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="script.js"></script>
</body>
</html>
